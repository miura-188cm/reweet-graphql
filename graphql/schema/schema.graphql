interface Tag {
  id: ID!
  name: String!
}
type ContactTags implements Tag {
  id: ID!
  name: String!
}
type TagPage implements Tag {
  id: ID!
  name: String!
  count: Int!
}

type ContactDto {
  id: ID!
  name: String!
  company: String
  role: String
  description: String
  links: [ContactLink!]
  tags: [ContactTags!]
  meetup: Meetup!
}

type ContactLink {
  id: ID!
  type: LinkType!
  url: String!
  handle: String
}

enum LinkType {
  GITHUB
  TWITTER
  WEBSITE
  PRODUCT
  OTHER
}

type Meetup {
  id: ID!
  name: String!
  scheduledAt: String!
}
type Query {
  allOwnedTags(userId: ID!): [TagPage!]! #配列の強制, 空配列許容
  allContacts(userId: ID!): [ContactDto!]
}

type Mutation {
  addMeetup(userId: ID!, title: String, scheduledAt: String): Meetup!
}

query AllOwnedTags($userId: ID!) {
  allOwnedTags(userId: $userId) {
    id
    name
    count
  }
}

query AllContacts($userId: ID!) {
  allContacts(userId: $userId) {
    id
    name
    company
    role
    links {
      id
      type
      url
      handle
    }
    tags {
      name
    }
    meetup {
      id
      name
      scheduledAt
    }
  }
}

mutation AddMeetup($userId: ID!, $title: String, $scheduledAt: String) {
  addMeetup(userId: $userId, title: $title, scheduledAt: $scheduledAt) {
    id
  }
}
